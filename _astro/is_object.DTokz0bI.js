const d=new TextEncoder,a=new TextDecoder;function u(...e){const t=e.reduce((c,{length:s})=>c+s,0),o=new Uint8Array(t);let r=0;for(const c of e)o.set(c,r),r+=c.length;return o}function i(e){if(Uint8Array.prototype.toBase64)return e.toBase64();const t=32768,o=[];for(let r=0;r<e.length;r+=t)o.push(String.fromCharCode.apply(null,e.subarray(r,r+t)));return btoa(o.join(""))}function l(e){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(e);const t=atob(e),o=new Uint8Array(t.length);for(let r=0;r<t.length;r++)o[r]=t.charCodeAt(r);return o}function y(e){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(typeof e=="string"?e:a.decode(e),{alphabet:"base64url"});let t=e;t instanceof Uint8Array&&(t=a.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return l(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}}function E(e){let t=e;return typeof t=="string"&&(t=d.encode(t)),Uint8Array.prototype.toBase64?t.toBase64({alphabet:"base64url",omitPadding:!0}):i(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}class n extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(t,o){super(t,o),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class p extends n{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class b extends n{static code="ERR_JWS_INVALID";code="ERR_JWS_INVALID"}class O extends n{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}function f(e){return typeof e=="object"&&e!==null}const _=e=>{if(!f(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t};export{p as J,b as a,E as b,u as c,y as d,d as e,a as f,O as g,_ as i};

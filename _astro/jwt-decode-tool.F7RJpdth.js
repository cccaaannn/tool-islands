import{d as V,c as g,g as $,t as v,a as _,s as O,r as F,b as Ye,o as et,e as w,i as r,f as p,S as le,F as tt,h as A,j as N}from"./web.DnT853OG.js";import{S as m,C as a}from"./constants.BGP0Lxk1.js";import{R as lt}from"./resource-utils.C3IEFH3c.js";import{f as oe,d as ie,i as re,g as b}from"./is_object.DTokz0bI.js";function ot(t){let e;if(typeof t=="string"){const l=t.split(".");(l.length===3||l.length===5)&&([e]=l)}else if(typeof t=="object"&&t)if("protected"in t)e=t.protected;else throw new TypeError("Token does not contain a Protected Header");try{if(typeof e!="string"||!e)throw new Error;const l=JSON.parse(oe.decode(ie(e)));if(!re(l))throw new Error;return l}catch{throw new TypeError("Invalid Token or Protected Header formatting")}}function it(t){if(typeof t!="string")throw new b("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:l}=t.split(".");if(l===5)throw new b("Only JWTs using Compact JWS serialization can be decoded");if(l!==3)throw new b("Invalid JWT");if(!e)throw new b("JWTs must contain a payload");let n;try{n=ie(e)}catch{throw new b("Failed to base64url decode the payload")}let x;try{x=JSON.parse(oe.decode(n))}catch{throw new b("Failed to parse the decoded payload as JSON")}if(!re(x))throw new b("Invalid JWT Claims Set");return x}var rt=v('<div><div class=tooltip><button class="btn btn-ghost btn-info btn-xs px-1 py-2"aria-label="Copy to clipboard"><svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor class=size-4><path stroke-linecap=round stroke-linejoin=round d="M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z">');const M=t=>{const[e,l]=g(!1),[n,x]=g(null),y=()=>{if(navigator?.clipboard?.writeText&&t.text)try{navigator.clipboard.writeText(t.text),l(!0);const s=n();s&&clearTimeout(s);const c=window.setTimeout(()=>{l(!1)},1e3);x(c)}catch(s){console.error("Failed to copy: ",s)}};return(()=>{var s=$(rt),c=s.firstChild,S=c.firstChild;return S.$$click=y,_(()=>O(c,"data-tip",e()?"Copied!":"Copy")),F(),s})()};V(["click"]);var st=v('<div><div class=tooltip data-tip=Switch><button class="btn btn-ghost btn-info btn-xs px-1 py-2"aria-label="Copy to clipboard"><svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor class=size-4><path stroke-linecap=round stroke-linejoin=round d="M3 7.5 7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5">');const nt=t=>(()=>{var e=$(st),l=e.firstChild,n=l.firstChild;return Ye(n,"click",t.onSwitch),F(),e})();V(["click"]);var at=v('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor class=size-4><path stroke-linecap=round stroke-linejoin=round d="M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25">'),dt=v('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor class=size-4><path stroke-linecap=round stroke-linejoin=round d="M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15">'),ct=v('<div><div class=card-body><div class="flex justify-between items-center"><h2 class="card-title lg:text-2xl sm:text-xl text-lg">Jwt decode</h2><button class="btn btn-ghost btn-info btn-xs px-1 py-2"><!$><!/><!$><!/></button></div><div><div class="flex justify-between gap-2"><div class="flex flex-col gap-1 w-1/2"><fieldset class=fieldset><legend class=fieldset-legend>Encoded<!$><!/></legend><textarea placeholder="Enter JWT to decode"class="textarea textarea-lg textarea-primary w-full h-28 border-blue-900 focus:outline-2 focus:outline-blue-700"></textarea><div class="fieldset-label text-error"></div></fieldset><fieldset class=fieldset><legend class=fieldset-legend>Header<!$><!/></legend><textarea disabled placeholder="JWT header"class="textarea textarea-lg textarea-primary w-full h-28 whitespace-pre overflow-auto"></textarea></fieldset></div><fieldset class="fieldset w-1/2 flex"><legend class=fieldset-legend>Payload<!$><!/></legend><textarea disabled placeholder="JWT body"class="textarea textarea-lg textarea-primary w-full h-full whitespace-pre overflow-auto"></textarea></fieldset></div><div class="flex justify-between items-center mt-4"><h3 class=text-lg>History (<!$><!/>/<!$><!/>)</h3><button class="btn btn-ghost btn-error btn-sm px-1 py-2"><svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor class=size-4><path stroke-linecap=round stroke-linejoin=round d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg></button></div><div class="overflow-auto max-h-[330px]"><table class="table table-pin-rows table-zebra"><thead><tr><th class=p-2>#</th><th class=p-2>Swc</th><th class=p-2>Copy</th><th class=p-2>Token</th></tr></thead><tbody></tbody></table></div></div><div><div class=text-center><p class="mb-2 text-sm opacity-70">Jwt decoding tool</p><div class="flex items-end justify-center rounded-lg p-2"><span class="text-xs opacity-70 mr-2">Built with</span><div class="tooltip tooltip-top"data-tip=SolidJs><a href=https://www.solidjs.com target=_blank rel="noopener noreferrer"><img alt=SolidJS loading=lazy decoding=async width=20 height=20 class=inline>',!0,!1,!1),ht=v("<tr><td colspan=4 class=text-center>No history items"),pt=v('<tr><td class="text-left p-2"><div class="tooltip tooltip-right"><kbd class=kbd></kbd></div></td><td class="text-left p-2"></td><td class="text-left p-2"></td><td class="p-2 break-keep text-nowrap"><p>');const wt=()=>{const[t,e]=g(""),[l,n]=g(""),[x,y]=g(""),[s,c]=g(""),[S,E]=g([]),[f,R]=g(!1),se=()=>{R(!f()),m.toggleJsonArrayItem(a.ToolLayout.ExpandedKey,a.ToolId.JwtDecode,f())};et(()=>{const o=m.loadJsonArray(a.ToolLayout.ExpandedKey),d=m.loadJsonArray(a.ToolId.JwtDecode);R(o.includes(a.ToolId.JwtDecode)),E(d)});const ne=o=>{const d=m.loadJsonArray(a.ToolId.JwtDecode),h=[o,...d].slice(0,a.History.Max);E(h),m.saveJsonArray(a.ToolId.JwtDecode,h)},ae=()=>{E([]),m.removeJsonArray(a.ToolId.JwtDecode)},de=()=>{c(""),n(""),e(""),y("")},ce=o=>{c(o.encoded),n(o.decodedHeader),e(o.decodedPayload),y("")},he=o=>{if(c(o),!o||o.trim()===""){de();return}try{const d=ot(o),h=JSON.stringify(d,null,2);n(h);const L=it(o),u=JSON.stringify(L,null,2);e(u),y(""),ne({encoded:s(),decodedHeader:h,decodedPayload:u,date:new Date().toISOString()})}catch(d){console.error(d),e(""),y("Invalid JWT")}};return(()=>{var o=$(ct),d=o.firstChild,h=d.firstChild,L=h.firstChild,u=L.nextSibling,pe=u.firstChild,[K,ge]=w(pe.nextSibling),xe=K.nextSibling,[fe,ue]=w(xe.nextSibling),I=h.nextSibling,U=I.firstChild,Z=U.firstChild,q=Z.firstChild,D=q.firstChild,we=D.firstChild,be=we.nextSibling,[$e,ve]=w(be.nextSibling),P=D.nextSibling,ye=P.nextSibling,me=q.nextSibling,W=me.firstChild,_e=W.firstChild,Se=_e.nextSibling,[Ce,Te]=w(Se.nextSibling),j=W.nextSibling,Je=Z.nextSibling,B=Je.firstChild,ke=B.firstChild,He=ke.nextSibling,[Me,Ee]=w(He.nextSibling),z=B.nextSibling,G=U.nextSibling,k=G.firstChild,Le=k.firstChild,Ie=Le.nextSibling,[Q,De]=w(Ie.nextSibling),Pe=Q.nextSibling,We=Pe.nextSibling,[X,je]=w(We.nextSibling);X.nextSibling;var Be=k.nextSibling,ze=G.nextSibling,Ae=ze.firstChild,Ne=Ae.firstChild,Oe=Ne.nextSibling,Y=I.nextSibling,Ve=Y.firstChild,Fe=Ve.firstChild,Re=Fe.nextSibling,Ke=Re.firstChild,Ue=Ke.nextSibling,Ze=Ue.firstChild,qe=Ze.firstChild;return u.$$click=se,r(u,p(le,{get when(){return f()},get children(){return $(at)}}),K,ge),r(u,p(le,{get when(){return!f()},get children(){return $(dt)}}),fe,ue),r(D,p(M,{get text(){return s()}}),$e,ve),P.$$input=i=>he(i.currentTarget.value),r(ye,x),r(W,p(M,{get text(){return l()}}),Ce,Te),j.style.setProperty("color","white"),j.style.setProperty("cursor","text"),r(B,p(M,{get text(){return t()}}),Me,Ee),z.style.setProperty("color","white"),z.style.setProperty("cursor","text"),r(k,()=>S().length,Q,De),r(k,()=>a.History.Max,X,je),Be.$$click=ae,r(Oe,p(tt,{get each(){return S()},get fallback(){return $(ht)},children:(i,H)=>(()=>{var C=$(pt),T=C.firstChild,J=T.firstChild,Ge=J.firstChild,ee=T.nextSibling,te=ee.nextSibling,Qe=te.nextSibling,Xe=Qe.firstChild;return r(Ge,()=>S().length-H()),r(ee,p(nt,{onSwitch:()=>ce(i)})),r(te,p(M,{get text(){return i.encoded}})),r(Xe,()=>i.encoded),_(()=>O(J,"data-tip",new Date(i.date).toLocaleString())),C})()})),_(i=>{var H=`card card-border w-full h-fit transition-all duration-500 ease-out overflow-hidden bg-inherit 
				 bg-gradient-to-br from-blue-500/20 via-blue-900/20 to-transparent border-blue-900/70 
				${f()?"md:w-2xl h-[800px]":"md:w-sm h-[140px]"}`,C=`transition-all duration-500 ease-out
						${f()?"opacity-100 max-h-[800px]":"opacity-0 max-h-0 overflow-hidden"}`,T=`transition-all duration-500 ease-out 
						${f()?"opacity-0 max-h-0 overflow-hidden":"opacity-100 max-h-[80px]"}`,J=lt.getLogo("solid");return H!==i.e&&A(o,i.e=H),C!==i.t&&A(I,i.t=C),T!==i.a&&A(Y,i.a=T),J!==i.o&&O(qe,"src",i.o=J),i},{e:void 0,t:void 0,a:void 0,o:void 0}),_(()=>N(P,"value",s())),_(()=>N(j,"value",l())),_(()=>N(z,"value",t())),F(),o})()};V(["click","input"]);export{wt as default};

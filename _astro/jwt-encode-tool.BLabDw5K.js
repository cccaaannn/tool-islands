import{r as d}from"./index.BVOCwoKb.js";var B={exports:{}},P={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var re;function ve(){if(re)return P;re=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(n,o,a){var c=null;if(a!==void 0&&(c=""+a),o.key!==void 0&&(c=""+o.key),"key"in o){a={};for(var l in o)l!=="key"&&(a[l]=o[l])}else a=o;return o=a.ref,{$$typeof:e,type:n,key:c,ref:o!==void 0?o:null,props:a}}return P.Fragment=t,P.jsx=s,P.jsxs=s,P}var ne;function Ae(){return ne||(ne=1,B.exports=ve()),B.exports}var r=Ae();const f=e=>{const[t,s]=d.useState(!1),[n,o]=d.useState(null),a=()=>{if(navigator?.clipboard?.writeText&&e.text)try{navigator.clipboard.writeText(e.text),s(!0),n&&clearTimeout(n);const c=window.setTimeout(()=>{s(!1)},1e3);o(c)}catch(c){console.error("Failed to copy: ",c)}};return r.jsx("div",{children:r.jsx("div",{className:"tooltip","data-tip":t?"Copied!":"Copy",children:r.jsx("button",{onClick:a,className:"btn btn-ghost btn-info btn-xs px-1 py-2",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:e.size==="sm"?"size-3":"size-4",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"})})})})})},j=new TextEncoder,D=new TextDecoder;function je(...e){const t=e.reduce((o,{length:a})=>o+a,0),s=new Uint8Array(t);let n=0;for(const o of e)s.set(o,n),n+=o.length;return s}function Te(e){if(Uint8Array.prototype.toBase64)return e.toBase64();const t=32768,s=[];for(let n=0;n<e.length;n+=t)s.push(String.fromCharCode.apply(null,e.subarray(n,n+t)));return btoa(s.join(""))}function Ne(e){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(e);const t=atob(e),s=new Uint8Array(t.length);for(let n=0;n<t.length;n++)s[n]=t.charCodeAt(n);return s}function Ce(e){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(typeof e=="string"?e:D.decode(e),{alphabet:"base64url"});let t=e;t instanceof Uint8Array&&(t=D.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return Ne(t)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}}function L(e){let t=e;return typeof t=="string"&&(t=j.encode(t)),Uint8Array.prototype.toBase64?t.toBase64({alphabet:"base64url",omitPadding:!0}):Te(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}class z extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(t,s){super(t,s),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class T extends z{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class H extends z{static code="ERR_JWS_INVALID";code="ERR_JWS_INVALID"}class Ke extends z{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}function x(e,t="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function R(e,t){return e.name===t}function k(e){return parseInt(e.name.slice(4),10)}function Je(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function Pe(e,t){if(!e.usages.includes(t))throw new TypeError(`CryptoKey does not support this operation, its usages must include ${t}.`)}function He(e,t,s){switch(t){case"HS256":case"HS384":case"HS512":{if(!R(e.algorithm,"HMAC"))throw x("HMAC");const n=parseInt(t.slice(2),10);if(k(e.algorithm.hash)!==n)throw x(`SHA-${n}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!R(e.algorithm,"RSASSA-PKCS1-v1_5"))throw x("RSASSA-PKCS1-v1_5");const n=parseInt(t.slice(2),10);if(k(e.algorithm.hash)!==n)throw x(`SHA-${n}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!R(e.algorithm,"RSA-PSS"))throw x("RSA-PSS");const n=parseInt(t.slice(2),10);if(k(e.algorithm.hash)!==n)throw x(`SHA-${n}`,"algorithm.hash");break}case"Ed25519":case"EdDSA":{if(!R(e.algorithm,"Ed25519"))throw x("Ed25519");break}case"ES256":case"ES384":case"ES512":{if(!R(e.algorithm,"ECDSA"))throw x("ECDSA");const n=Je(t);if(e.algorithm.namedCurve!==n)throw x(n,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}Pe(e,s)}function ae(e,t,...s){if(s=s.filter(Boolean),s.length>2){const n=s.pop();e+=`one of type ${s.join(", ")}, or ${n}.`}else s.length===2?e+=`one of type ${s[0]} or ${s[1]}.`:e+=`of type ${s[0]}.`;return t==null?e+=` Received ${t}`:typeof t=="function"&&t.name?e+=` Received function ${t.name}`:typeof t=="object"&&t!=null&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}const Re=(e,...t)=>ae("Key must be ",e,...t);function ie(e,t,...s){return ae(`Key for the ${e} algorithm must be `,t,...s)}function ce(e){return e?.[Symbol.toStringTag]==="CryptoKey"}function le(e){return e?.[Symbol.toStringTag]==="KeyObject"}const de=e=>ce(e)||le(e),Ie=(...e)=>{const t=e.filter(Boolean);if(t.length===0||t.length===1)return!0;let s;for(const n of t){const o=Object.keys(n);if(!s||s.size===0){s=new Set(o);continue}for(const a of o){if(s.has(a))return!1;s.add(a)}}return!0};function We(e){return typeof e=="object"&&e!==null}const ue=e=>{if(!We(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},De=(e,t)=>{if(e.startsWith("RS")||e.startsWith("PS")){const{modulusLength:s}=t.algorithm;if(typeof s!="number"||s<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}};function Me(e){let t,s;switch(e.kty){case"RSA":{switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},s=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},s=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},s=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new T('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},s=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},s=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},s=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},s=e.d?["deriveBits"]:[];break;default:throw new T('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(e.alg){case"Ed25519":case"EdDSA":t={name:"Ed25519"},s=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},s=e.d?["deriveBits"]:[];break;default:throw new T('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new T('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:s}}const Oe=async e=>{if(!e.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:t,keyUsages:s}=Me(e),n={...e};return delete n.alg,delete n.use,crypto.subtle.importKey("jwk",n,t,e.ext??!e.d,e.key_ops??s)},$e=(e,t,s,n,o)=>{if(o.crit!==void 0&&n?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||n.crit===void 0)return new Set;if(!Array.isArray(n.crit)||n.crit.length===0||n.crit.some(c=>typeof c!="string"||c.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let a;s!==void 0?a=new Map([...Object.entries(s),...t.entries()]):a=t;for(const c of n.crit){if(!a.has(c))throw new T(`Extension Header Parameter "${c}" is not recognized`);if(o[c]===void 0)throw new e(`Extension Header Parameter "${c}" is missing`);if(a.get(c)&&n[c]===void 0)throw new e(`Extension Header Parameter "${c}" MUST be integrity protected`)}return new Set(n.crit)};function V(e){return ue(e)&&typeof e.kty=="string"}function Be(e){return e.kty!=="oct"&&typeof e.d=="string"}function Le(e){return e.kty!=="oct"&&typeof e.d>"u"}function ke(e){return e.kty==="oct"&&typeof e.k=="string"}let N;const oe=async(e,t,s,n=!1)=>{N||=new WeakMap;let o=N.get(e);if(o?.[s])return o[s];const a=await Oe({...t,alg:s});return n&&Object.freeze(e),o?o[s]=a:N.set(e,{[s]:a}),a},_e=(e,t)=>{N||=new WeakMap;let s=N.get(e);if(s?.[t])return s[t];const n=e.type==="public",o=!!n;let a;if(e.asymmetricKeyType==="x25519"){switch(t){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}a=e.toCryptoKey(e.asymmetricKeyType,o,n?[]:["deriveBits"])}if(e.asymmetricKeyType==="ed25519"){if(t!=="EdDSA"&&t!=="Ed25519")throw new TypeError("given KeyObject instance cannot be used for this algorithm");a=e.toCryptoKey(e.asymmetricKeyType,o,[n?"verify":"sign"])}if(e.asymmetricKeyType==="rsa"){let c;switch(t){case"RSA-OAEP":c="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":c="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":c="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":c="SHA-512";break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}if(t.startsWith("RSA-OAEP"))return e.toCryptoKey({name:"RSA-OAEP",hash:c},o,n?["encrypt"]:["decrypt"]);a=e.toCryptoKey({name:t.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:c},o,[n?"verify":"sign"])}if(e.asymmetricKeyType==="ec"){const l=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get(e.asymmetricKeyDetails?.namedCurve);if(!l)throw new TypeError("given KeyObject instance cannot be used for this algorithm");t==="ES256"&&l==="P-256"&&(a=e.toCryptoKey({name:"ECDSA",namedCurve:l},o,[n?"verify":"sign"])),t==="ES384"&&l==="P-384"&&(a=e.toCryptoKey({name:"ECDSA",namedCurve:l},o,[n?"verify":"sign"])),t==="ES512"&&l==="P-521"&&(a=e.toCryptoKey({name:"ECDSA",namedCurve:l},o,[n?"verify":"sign"])),t.startsWith("ECDH-ES")&&(a=e.toCryptoKey({name:"ECDH",namedCurve:l},o,n?[]:["deriveBits"]))}if(!a)throw new TypeError("given KeyObject instance cannot be used for this algorithm");return s?s[t]=a:N.set(e,{[t]:a}),a},Ue=async(e,t)=>{if(e instanceof Uint8Array||ce(e))return e;if(le(e)){if(e.type==="secret")return e.export();if("toCryptoKey"in e&&typeof e.toCryptoKey=="function")try{return _e(e,t)}catch(n){if(n instanceof TypeError)throw n}let s=e.export({format:"jwk"});return oe(e,s,t)}if(V(e))return e.k?Ce(e.k):oe(e,e,t,!0);throw new Error("unreachable")},A=e=>e?.[Symbol.toStringTag],U=(e,t,s)=>{if(t.use!==void 0){let n;switch(s){case"sign":case"verify":n="sig";break;case"encrypt":case"decrypt":n="enc";break}if(t.use!==n)throw new TypeError(`Invalid key for this operation, its "use" must be "${n}" when present`)}if(t.alg!==void 0&&t.alg!==e)throw new TypeError(`Invalid key for this operation, its "alg" must be "${e}" when present`);if(Array.isArray(t.key_ops)){let n;switch(!0){case s==="sign":case e==="dir":case e.includes("CBC-HS"):n=s;break;case e.startsWith("PBES2"):n="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(e):!e.includes("GCM")&&e.endsWith("KW")?n="unwrapKey":n=s;break;case s==="encrypt":n="wrapKey";break;case s==="decrypt":n=e.startsWith("RSA")?"unwrapKey":"deriveBits";break}if(n&&t.key_ops?.includes?.(n)===!1)throw new TypeError(`Invalid key for this operation, its "key_ops" must include "${n}" when present`)}return!0},ze=(e,t,s)=>{if(!(t instanceof Uint8Array)){if(V(t)){if(ke(t)&&U(e,t,s))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!de(t))throw new TypeError(ie(e,t,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if(t.type!=="secret")throw new TypeError(`${A(t)} instances for symmetric algorithms must be of type "secret"`)}},Ve=(e,t,s)=>{if(V(t))switch(s){case"decrypt":case"sign":if(Be(t)&&U(e,t,s))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"encrypt":case"verify":if(Le(t)&&U(e,t,s))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!de(t))throw new TypeError(ie(e,t,"CryptoKey","KeyObject","JSON Web Key"));if(t.type==="secret")throw new TypeError(`${A(t)} instances for asymmetric algorithms must not be of type "secret"`);if(t.type==="public")switch(s){case"sign":throw new TypeError(`${A(t)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw new TypeError(`${A(t)} instances for asymmetric algorithm decryption must be of type "private"`)}if(t.type==="private")switch(s){case"verify":throw new TypeError(`${A(t)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw new TypeError(`${A(t)} instances for asymmetric algorithm encryption must be of type "public"`)}},Fe=(e,t,s)=>{e.startsWith("HS")||e==="dir"||e.startsWith("PBES2")||/^A(?:128|192|256)(?:GCM)?(?:KW)?$/.test(e)||/^A(?:128|192|256)CBC-HS(?:256|384|512)$/.test(e)?ze(e,t,s):Ve(e,t,s)},Ge=(e,t)=>{const s=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:s,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:s,name:"RSA-PSS",saltLength:parseInt(e.slice(-3),10)>>3};case"RS256":case"RS384":case"RS512":return{hash:s,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:s,name:"ECDSA",namedCurve:t.namedCurve};case"Ed25519":case"EdDSA":return{name:"Ed25519"};default:throw new T(`alg ${e} is not supported either by JOSE or your javascript runtime`)}},qe=async(e,t,s)=>{if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(Re(t,"CryptoKey","KeyObject","JSON Web Key"));return crypto.subtle.importKey("raw",t,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[s])}return He(t,e,s),t},E=e=>Math.floor(e.getTime()/1e3),he=60,fe=he*60,F=fe*24,Ze=F*7,Ye=F*365.25,Xe=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,_=e=>{const t=Xe.exec(e);if(!t||t[4]&&t[1])throw new TypeError("Invalid time period format");const s=parseFloat(t[2]),n=t[3].toLowerCase();let o;switch(n){case"sec":case"secs":case"second":case"seconds":case"s":o=Math.round(s);break;case"minute":case"minutes":case"min":case"mins":case"m":o=Math.round(s*he);break;case"hour":case"hours":case"hr":case"hrs":case"h":o=Math.round(s*fe);break;case"day":case"days":case"d":o=Math.round(s*F);break;case"week":case"weeks":case"w":o=Math.round(s*Ze);break;default:o=Math.round(s*Ye);break}return t[1]==="-"||t[4]==="ago"?-o:o};function v(e,t){if(!Number.isFinite(t))throw new TypeError(`Invalid ${e} input`);return t}class Qe{#e;constructor(t){if(!ue(t))throw new TypeError("JWT Claims Set MUST be an object");this.#e=structuredClone(t)}data(){return j.encode(JSON.stringify(this.#e))}get iss(){return this.#e.iss}set iss(t){this.#e.iss=t}get sub(){return this.#e.sub}set sub(t){this.#e.sub=t}get aud(){return this.#e.aud}set aud(t){this.#e.aud=t}set jti(t){this.#e.jti=t}set nbf(t){typeof t=="number"?this.#e.nbf=v("setNotBefore",t):t instanceof Date?this.#e.nbf=v("setNotBefore",E(t)):this.#e.nbf=E(new Date)+_(t)}set exp(t){typeof t=="number"?this.#e.exp=v("setExpirationTime",t):t instanceof Date?this.#e.exp=v("setExpirationTime",E(t)):this.#e.exp=E(new Date)+_(t)}set iat(t){typeof t>"u"?this.#e.iat=E(new Date):t instanceof Date?this.#e.iat=v("setIssuedAt",E(t)):typeof t=="string"?this.#e.iat=v("setIssuedAt",E(new Date)+_(t)):this.#e.iat=v("setIssuedAt",t)}}const et=async(e,t,s)=>{const n=await qe(e,t,"sign");De(e,n);const o=await crypto.subtle.sign(Ge(e,n.algorithm),n,s);return new Uint8Array(o)};class tt{#e;#t;#s;constructor(t){if(!(t instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this.#e=t}setProtectedHeader(t){if(this.#t)throw new TypeError("setProtectedHeader can only be called once");return this.#t=t,this}setUnprotectedHeader(t){if(this.#s)throw new TypeError("setUnprotectedHeader can only be called once");return this.#s=t,this}async sign(t,s){if(!this.#t&&!this.#s)throw new H("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");if(!Ie(this.#t,this.#s))throw new H("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");const n={...this.#t,...this.#s},o=$e(H,new Map([["b64",!0]]),s?.crit,this.#t,n);let a=!0;if(o.has("b64")&&(a=this.#t.b64,typeof a!="boolean"))throw new H('The "b64" (base64url-encode payload) Header Parameter must be a boolean');const{alg:c}=n;if(typeof c!="string"||!c)throw new H('JWS "alg" (Algorithm) Header Parameter missing or invalid');Fe(c,t,"sign");let l=this.#e;a&&(l=j.encode(L(l)));let p;this.#t?p=j.encode(L(JSON.stringify(this.#t))):p=j.encode("");const I=je(p,j.encode("."),l),g=await Ue(t,c),W=await et(c,g,I),m={signature:L(W),payload:""};return a&&(m.payload=D.decode(l)),this.#s&&(m.header=this.#s),this.#t&&(m.protected=D.decode(p)),m}}class st{#e;constructor(t){this.#e=new tt(t)}setProtectedHeader(t){return this.#e.setProtectedHeader(t),this}async sign(t,s){const n=await this.#e.sign(t,s);if(n.payload===void 0)throw new TypeError("use the flattened module for creating JWS with b64: false");return`${n.protected}.${n.payload}.${n.signature}`}}class rt{#e;#t;constructor(t={}){this.#t=new Qe(t)}setIssuer(t){return this.#t.iss=t,this}setSubject(t){return this.#t.sub=t,this}setAudience(t){return this.#t.aud=t,this}setJti(t){return this.#t.jti=t,this}setNotBefore(t){return this.#t.nbf=t,this}setExpirationTime(t){return this.#t.exp=t,this}setIssuedAt(t){return this.#t.iat=t,this}setProtectedHeader(t){return this.#e=t,this}async sign(t,s){const n=new st(this.#t.data());if(n.setProtectedHeader(this.#e),Array.isArray(this.#e?.crit)&&this.#e.crit.includes("b64")&&this.#e.b64===!1)throw new Ke("JWTs MUST NOT use unencoded payload");return n.sign(t,s)}}const nt=e=>{const t=localStorage.getItem(e)??"[]";return t?JSON.parse(t):[]},G=(e,t)=>{localStorage.setItem(e,JSON.stringify(t))},ot=(e,t)=>{const s=localStorage.getItem(e)??"[]",n=[...new Set([t,...JSON.parse(s)])];G(e,n)},at=(e,t)=>{const s=localStorage.getItem(e)??"[]",n=JSON.parse(s).filter(o=>o!==t);G(e,n)},it=e=>{localStorage.removeItem(e)},ct=(e,t,s)=>{s?S.updateJsonArray(e,t):S.removeItemJsonArray(e,t)},S={loadJsonArray:nt,saveJsonArray:G,updateJsonArray:ot,removeItemJsonArray:at,removeJsonArray:it,toggleJsonArrayItem:ct},lt=e=>r.jsx("div",{children:r.jsx("div",{className:"tooltip","data-tip":"Switch",children:r.jsx("button",{onClick:e.onSwitch,className:"btn btn-ghost btn-info btn-xs px-1 py-2",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-4",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5 7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"})})})})}),dt={ExpandedKey:"Tool-Expanded"},ut={JwtEncode:"Tools-JwtEncode"},ht={Max:100},y={ToolLayout:dt,ToolId:ut,History:ht},pe=["HS256","HS384","HS512"],ft=e=>{const{alg:t,onChange:s}=e,n=o=>{const a=o.target.value;s(a)};return r.jsxs("fieldset",{className:"fieldset",children:[r.jsxs("legend",{className:"fieldset-label",children:["Algorithm",r.jsx(f,{text:t,size:"sm"})]}),r.jsx("select",{className:"select w-full border-sky-900 focus:outline-2 focus:outline-sky-700",value:t,onChange:n,children:pe.map(o=>r.jsx("option",{value:o,children:o},o))})]})},pt=e=>{try{return JSON.stringify(JSON.parse(e),null,2)}catch{return e}},mt=()=>({payload:JSON.stringify({test:"test"},null,2),alg:pe[0],secret:crypto.randomUUID().toString(),issuedAt:!0,audience:"test",issuer:"test",jti:"",subject:"",notBefore:"",expirationTime:new Date(Date.now()+1e3*60*60).toISOString().slice(0,19)}),h={safeJsonFormat:pt,getDefaults:mt},me="/tool-islands/",yt=e=>`${me}${e}`,xt=e=>`${me}logos/${e}.svg`,wt={get:yt,getLogo:xt},gt=()=>{const[e,t]=d.useState(()=>h.getDefaults().payload),[s,n]=d.useState(()=>h.getDefaults().alg),[o,a]=d.useState(()=>h.getDefaults().secret),[c,l]=d.useState(()=>h.getDefaults().issuedAt),[p,I]=d.useState(()=>h.getDefaults().audience),[g,W]=d.useState(()=>h.getDefaults().issuer),[m,q]=d.useState(()=>h.getDefaults().jti),[C,Z]=d.useState(()=>h.getDefaults().subject),[K,Y]=d.useState(()=>h.getDefaults().notBefore),[J,X]=d.useState(()=>h.getDefaults().expirationTime),[ye,M]=d.useState(""),[Q,ee]=d.useState(""),[O,$]=d.useState([]),[b,te]=d.useState(!1),xe=()=>{te(!b),S.toggleJsonArrayItem(y.ToolLayout.ExpandedKey,y.ToolId.JwtEncode,!b)};d.useEffect(()=>{const i=S.loadJsonArray(y.ToolLayout.ExpandedKey),w=S.loadJsonArray(y.ToolId.JwtEncode);te(i.includes(y.ToolId.JwtEncode)),$(w)},[]);const we=i=>{const w=S.loadJsonArray(y.ToolId.JwtEncode),u=[i,...w].slice(0,y.History.Max);$(u),S.saveJsonArray(y.ToolId.JwtEncode,u)},Se=()=>{$([]),S.removeJsonArray(y.ToolId.JwtEncode)},ge=i=>{ee(i.encoded),t(i.payload),n(i.alg),a(i.secret),l(i.issuedAt),I(i.audience),W(i.issuer),q(i.jti),Z(i.subject),Y(i.notBefore),X(i.expirationTime),M("")},be=async i=>{t(h.safeJsonFormat(i)),!i||i.trim()},Ee=async()=>{try{const i=JSON.parse(e),w=new TextEncoder().encode(o),u=new rt(i).setProtectedHeader({alg:s,typ:"JWT"});c&&u.setIssuedAt(),p&&u.setAudience(p),g&&u.setIssuer(g),m&&u.setJti(m),C&&u.setSubject(C),K&&u.setNotBefore(new Date(K)),J&&u.setExpirationTime(new Date(J));const se=await u.sign(w);ee(se),M(""),we({encoded:se,payload:e,alg:s,secret:o,issuedAt:c,audience:p,issuer:g,jti:m,subject:C,notBefore:K,expirationTime:J,date:new Date().toISOString()})}catch{M("Invalid JWT")}};return r.jsx("div",{className:`card card-border w-full h-fit transition-all duration-500 ease-out overflow-hidden bg-inherit 
				 bg-gradient-to-br from-sky-500/20 via-sky-900/20 to-transparent border-sky-900/70 
				${b?"md:w-2xl h-[1300px]":"md:w-sm h-[140px]"}`,children:r.jsxs("div",{className:"card-body",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"card-title lg:text-2xl sm:text-xl text-lg",children:"Jwt encode"}),r.jsxs("button",{onClick:xe,className:"btn btn-ghost btn-info btn-xs px-1 py-2",children:[b&&r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-4",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25"})}),!b&&r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-4",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"})})]})]}),r.jsxs("div",{className:`transition-all duration-500 ease-out
						${b?"opacity-100 max-h-[1200px]":"opacity-0 max-h-0 overflow-hidden"}`,children:[r.jsxs("div",{className:"flex justify-between flex-col gap-2",children:[r.jsxs("fieldset",{className:"fieldset",children:[r.jsxs("legend",{className:"fieldset-legend",children:["Encoded",r.jsx(f,{text:Q})]}),r.jsx("textarea",{disabled:!0,value:Q,placeholder:"Enter JWT to decode",style:{color:"white",cursor:"text"},className:"textarea textarea-lg textarea-primary w-full h-20"}),r.jsx("div",{className:"fieldset-label text-error",children:ye})]}),r.jsxs("div",{className:"flex justify-between gap-2 h-full flex-wrap sm:flex-nowrap",children:[r.jsxs("div",{className:"flex flex-col gap-1 w-1/2 flex-grow",children:[r.jsx(ft,{alg:s,onChange:n}),r.jsxs("fieldset",{className:"fieldset",children:[r.jsxs("legend",{className:"fieldset-label",children:["Secret",r.jsx(f,{text:o,size:"sm"})]}),r.jsx("input",{value:o,onInput:i=>a(i.currentTarget.value),placeholder:"Secret",className:"input input-primary w-full border-sky-900 focus:outline-2 focus:outline-sky-700"})]}),r.jsxs("fieldset",{className:"fieldset flex-grow flex",children:[r.jsxs("legend",{className:"fieldset-label",children:["Payload",r.jsx(f,{text:e,size:"sm"})]}),r.jsx("textarea",{value:e,onInput:i=>be(i.currentTarget.value),placeholder:"Body (JSON)",className:"textarea textarea-lg textarea-primary w-full min-h-[100px] h-full border-sky-900 focus:outline-2 focus:outline-sky-700"})]})]}),r.jsxs("div",{className:"flex flex-col gap-1 w-1/2 flex-grow",children:[r.jsxs("fieldset",{className:"fieldset",children:[r.jsxs("legend",{className:"fieldset-label",children:["Audience (aud)",r.jsx(f,{text:p,size:"sm"})]}),r.jsx("input",{value:p,onInput:i=>I(i.currentTarget.value),placeholder:"Audience",className:"input input-primary w-full border-sky-900 focus:outline-2 focus:outline-sky-700"})]}),r.jsxs("fieldset",{className:"fieldset",children:[r.jsxs("legend",{className:"fieldset-label",children:["Issuer (iss)",r.jsx(f,{text:g,size:"sm"})]}),r.jsx("input",{value:g,onInput:i=>W(i.currentTarget.value),placeholder:"Issuer",className:"input input-primary w-full border-sky-900 focus:outline-2 focus:outline-sky-700"})]}),r.jsxs("fieldset",{className:"fieldset",children:[r.jsxs("legend",{className:"fieldset-label",children:["Subject (sub)",r.jsx(f,{text:C,size:"sm"})]}),r.jsx("input",{value:C,onInput:i=>Z(i.currentTarget.value),placeholder:"Subject",className:"input input-primary w-full border-sky-900 focus:outline-2 focus:outline-sky-700"})]}),r.jsxs("fieldset",{className:"fieldset",children:[r.jsxs("legend",{className:"fieldset-label",children:["Jti",r.jsx(f,{text:m,size:"sm"})]}),r.jsx("input",{value:m,onInput:i=>q(i.currentTarget.value),placeholder:"Jti",className:"input input-primary w-full border-sky-900 focus:outline-2 focus:outline-sky-700"})]}),r.jsxs("fieldset",{className:"fieldset",children:[r.jsxs("legend",{className:"fieldset-label",children:["Expiration time (exp)",r.jsx(f,{text:J,size:"sm"})]}),r.jsx("input",{value:J,onInput:i=>X(i.currentTarget.value),type:"datetime-local",className:"input input-primary w-full border-sky-900 focus:outline-2 focus:outline-sky-700"})]}),r.jsxs("fieldset",{className:"fieldset",children:[r.jsxs("legend",{className:"fieldset-label",children:["Not before (nbf)",r.jsx(f,{text:K,size:"sm"})]}),r.jsx("input",{value:K,onInput:i=>Y(i.currentTarget.value),type:"datetime-local",className:"input input-primary w-full border-sky-900 focus:outline-2 focus:outline-sky-700"})]}),r.jsxs("div",{className:"flex justify-between w-full",children:[r.jsxs("label",{className:"fieldset",children:[r.jsx("legend",{className:"fieldset-label",children:"Issued at (iat)"}),r.jsx("input",{type:"checkbox",className:"checkbox",checked:c,onChange:i=>l(i.currentTarget.checked)})]}),r.jsxs("label",{className:"fieldset",children:[r.jsx("legend",{className:"fieldset-label",children:"Generate"}),r.jsx("button",{onClick:Ee,className:"btn btn-soft btn-info btn-sm",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-6",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})})})]})]})]})]})]}),r.jsxs("div",{className:"flex justify-between items-center mt-4",children:[r.jsxs("h3",{className:"text-lg",children:["History (",O.length,"/",y.History.Max,")"]}),r.jsx("button",{onClick:Se,className:"btn btn-ghost btn-error btn-sm px-1 py-2",children:r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-4",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})})})]}),r.jsx("div",{className:"overflow-auto max-h-[200px]",children:r.jsxs("table",{className:"table table-pin-rows table-zebra",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"p-2",children:"#"}),r.jsx("th",{className:"p-2",children:"Swc"}),r.jsx("th",{className:"p-2",children:"Copy"}),r.jsx("th",{className:"p-2",children:"Token"})]})}),r.jsxs("tbody",{children:[O.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"text-center",children:"No history items"})}),O.map((i,w)=>r.jsxs("tr",{children:[r.jsx("td",{className:"text-left p-2",children:r.jsx("div",{className:"tooltip tooltip-right","data-tip":new Date(i.date).toLocaleString(),children:r.jsx("kbd",{className:"kbd",children:w+1})})}),r.jsx("td",{className:"text-left p-2",children:r.jsx(lt,{onSwitch:()=>ge(i)})}),r.jsx("td",{className:"text-left p-2",children:r.jsx(f,{text:i.encoded})}),r.jsx("td",{className:"p-2 break-keep text-nowrap",children:r.jsx("p",{children:i.encoded})})]},w))]})]})})]}),r.jsx("div",{className:`transition-all duration-500 ease-out 
						${b?"opacity-0 max-h-0 overflow-hidden":"opacity-100 max-h-[80px]"}`,children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"mb-2 text-sm opacity-70",children:"Jwt encoding tool"}),r.jsxs("div",{className:"flex items-end justify-center rounded-lg p-2",children:[r.jsx("span",{className:"text-xs opacity-70 mr-2",children:"Built with"}),r.jsx("div",{className:"tooltip tooltip-top","data-tip":"React",children:r.jsx("a",{href:"https://react.dev",target:"_blank",rel:"noopener noreferrer",children:r.jsx("img",{src:wt.getLogo("react"),alt:"React",loading:"lazy",decoding:"async",width:"20",height:"20",className:"inline"})})})]})]})})]})})};export{gt as default};
